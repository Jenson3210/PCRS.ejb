<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <div class="ui-g">
        <div class="ui-g-1"/>
        <div class="ui-g-10">
            <h:form id="form">
                <p:dataTable var="team" value="#{managerTeamView.teams}"
                             styleClass="teamOverviewTable" sortBy="#{team.name}"
                          
                             id="teamDetail">
                    <f:facet name="header"><h:outputText value="#{msgs['team.header']}"/></f:facet>
                    <p:headerRow>
                        <p:column styleClass="ui-g-6">
                            <h:outputText value="#{team.name}"/>
                        </p:column>
                    </p:headerRow>
                    <p:column>
                        <p:dataTable var="enrolment" value="#{managerTeamView.teamFacade.teamFacade(team)}">
                            <p:column style="width: 32px" >
                              <p:rowToggler rendered="#{managerTeamView.isMe(enrolment.user)}" />
                            </p:column>
                            <p:column styleClass="ui-g-6">
                                <h:outputText value="#{enrolment.user.firstName}  #{enrolment.user.lastName}" />
                            </p:column>
                            <p:column styleClass="ui-g-4" >
                                <h:outputText value="#{enrolment.userPrivilege.privilegeType.fullName}" />
                            </p:column>
							<p:column styleClass="ui-g-2" >
								<p:commandButton value="Generate Survey" action="#{surveyFacade.generateSurveySetFor(enrolment.user)}" rendered="#{!managerTeamView.isMe(enrolment.user)}"/>
							</p:column>
							
							   <p:rowExpansion>
                       
            			<p:panelGrid  columns="2" columnClasses="label,value" widt="100%">
                		
 						<h:outputText value="#{enrolment.user.firstName}  #{enrolment.user.lastName}"></h:outputText>
						<p:progressBar id="progressBarEmployee" value="#{userProfileView.getSurveyFacade().getPercentageCompleteForMemberSurvey(webUser.getUser())}"  widgetVar="pbClient"
							style="width:300px" />
							
							
						<h:outputText value="Jij"></h:outputText>
						<p:progressBar id="progressBarBoss" widgetVar="pbClient" value="#{userProfileView.getSurveyFacade().getPercentageCompleteForMemberSurvey(webUser.getUser())}" style="width:300px" />
							
						<h:outputText value=""></h:outputText>
 			
              
               						 <p:commandButton value="Generate Consensus"/>
           						 </p:panelGrid>
        					</p:rowExpansion>
                        </p:dataTable>
                    </p:column>
                    
         
                    
                </p:dataTable>
            </h:form>
        </div>
    </div>
    
    
    
       <p:dialog header="Selected Values" modal="true" showEffect="fade" widgetVar="dlg" resizable="false">
        <p:panelGrid columns="2" id="display" columnClasses="label,output">
        
        <p:selectOneListbox id="advanced" value="#{selectOneView.theme}" var="t" filter="true" filterMatchMode="contains">
            <f:selectItems value="#{selectOneView.themes}" var="theme" itemLabel="#{theme.displayName}" itemValue="#{theme}" />
 
            <p:column>
                <h:graphicImage name="showcase/images/themeswitcher/themeswitcher-#{t.name}.png" alt="#{t.name}" styleClass="ui-theme" />
            </p:column>
             
            <p:column>
                <h:outputText value="#{t.displayName}" />
            </p:column>
        </p:selectOneListbox>
        
          <p:selectOneListbox id="advanced" value="#{selectOneView.theme}" var="t" filter="true" filterMatchMode="contains">
            <f:selectItems value="#{selectOneView.themes}" var="theme" itemLabel="#{theme.displayName}" itemValue="#{theme}" />
 
            <p:column>
                <h:graphicImage name="showcase/images/themeswitcher/themeswitcher-#{t.name}.png" alt="#{t.name}" styleClass="ui-theme" />
            </p:column>
             
            <p:column>
                <h:outputText value="#{t.displayName}" />
            </p:column>
            
        </p:selectOneListbox>
        
        </p:panelGrid>
    </p:dialog>


</ui:composition>






