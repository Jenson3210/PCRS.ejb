<?xml version="1.0" encoding="UTF-8" ?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <div class="ui-g">
        <div class="ui-g-1" />
        <div class="ui-g-10">
            <h:form id="form">
                <p:outputPanel id="addCompetenceDetail">
							<div class="ui-g">
								<div class="ui-g-4">
									<p:outputLabel value="#{msgs['competence.name']}" />
								</div>
								<div class="ui-g-8">                        		
                        		<p:autoComplete id="competence" 
                        						completeMethod="#{adminCompetenceImpView.completeCompetence}" 
									  				var="competence" itemLabel="#{competence.name}" 
									  				itemValue="#{competence}" 
									  				forceSelection="true" 
									  				emptyMessage="#{msgs['surveyDefinition.noResults']}"
									 				value="#{adminCompetenceImpView.competenceBo}" 
									 				required="true" converter="competenceBoConverter">
									 				<p:ajax oncomplete="" update=":form:addCompetenceDetail"></p:ajax>
									 				</p:autoComplete>
									 <p:message for="competence"/>
								</div>
							</div>
						
                
							<div class="ui-g">
								<div class="ui-g-4">
									<p:outputLabel value="#{msgs['competence.description']}" />
								</div>
								<div class="ui-g-8">
									<p:inputTextarea id="ds"
										value="#{adminCompetenceImpView.competenceBo.competenceDescription}"
										 required="true" />
								</div>
							</div>
							<div class="ui-g">
								<div class="ui-g-10">
									<p:outputLabel value="#{msgs['competence.levels']}" />
								</div>
							</div>
							<p:outputPanel id="addCompetenceDetailLevels">
								<div class="ui-g">
								
									<ui:repeat var="level" value="#{adminCompetenceImpView.levels}">
										<div class="ui-g-1"></div>
										<div class="ui-g-1">
											<p:outputLabel value="#{level.orderLevel}" />
										</div>
										<div class="ui-g-10">
											<p:inputText value="#{level.description}" required="true" />
										</div>
									</ui:repeat>
								</div>
							</p:outputPanel>
							<div class="ui-g-2">
								<p:commandButton value="#{msgs['competence.add']}"
									update=":form" action="#{adminCompetenceView.addCompetence}"
									oncomplete="PF('addCompetenceDialog').hide();" />
							</div>
				
						</p:outputPanel>
            </h:form>
        </div>
        <div class="ui-g-1"></div>
    </div>
</ui:composition>